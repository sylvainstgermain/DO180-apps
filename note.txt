podman login docker.io : sylvain.st-germain@canada.ca / S8
podman login registry.redhat.io : sylvain.st-germain-Licence / S8
podman login registry.access.redhat.com : sylvain.st-germain-Licence / S8

podman pull rhel
podman images

# run container backgrounfd -d
podman run -d -p 8080 registry.redhat.io/rhel8/httpd-24

# port l;istening
 podman port -l
 8080/tcp -> 0.0.0.0:34377

 curl http://0.0.0.0:34377

 # bash in a container
 podman run -it ubi8/ubi:8.3 /bin/bash

 # Use envronnement variable to set creds in mysql
 podman run --name mysql-custom \
-e MYSQL_USER=redhat -e MYSQL_PASSWORD=r3dh4t \
-e MYSQL_ROOT_PASSWORD=r3dh4t \
-d registry.redhat.io/rhel8/mysql-80

#####
podman run --name mysql-basic \
-e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 \
-e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 \
-d registry.redhat.io/rhel8/mysql-80:1

podman ps --format "{{.ID}} {{.Image}} {{.Names}}"

podman exec -it mysql-basic /bin/bash
mysql -uroot
SHOW DATABASES;
USE items;

CREATE TABLE Projects (id int NOT NULL, name varchar(255) DEFAULT NULL,code varchar(255) DEFAULT NULL,PRIMARY KEY (id));
SHOW TABLES;
INSERT INTO Projects (id, name, code) VALUES (1,'DevOps','DO180');
SELECT * FROM Projects;
exit

# Root vs rootless container
sudo podman run --rm --name asroot -it registry.access.redhat.com/ubi8:latest /bin/bash
whoami
id

podman run --rm --name asuser -it registry.access.redhat.com/ubi8:latest /bin/bash

# review
 podman run -d -p 8080:80 --name httpd-basic quay.io/redhattraining/httpd-parent:2.4

 podman run --name my-httpd-container -d registry.redhat.io/rhel8/httpd-24

# avec template !!!
  podman run --name mysql-db registry.redhat.io/rhel8/mysql-80:1

podman run --name mysql \
-d -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 \
-e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 \
registry.redhat.io/rhel8/mysql-80:1